<!DOCTYPE html>
<!-- saved from url=(0046)https://docs.ogc.org/is/19-079r2/19-079r2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>OGC API - Features - Part 3: Filtering</title>
<link rel="stylesheet" href="./19-079r2_files/css">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments { background: #ffffff; }
pre.pygments .tok-c { color: #008800; font-style: italic } /* Comment */
pre.pygments .tok-err { color: #a61717; background-color: #e3d2d2 } /* Error */
pre.pygments .tok-k { color: #000080; font-weight: bold } /* Keyword */
pre.pygments .tok-ch { color: #008800; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #008800; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #008080 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #008800; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #008800; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #008800; font-weight: bold } /* Comment.Special */
pre.pygments .tok-gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #aa0000 } /* Generic.Error */
pre.pygments .tok-gh { color: #999999 } /* Generic.Heading */
pre.pygments .tok-gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
pre.pygments .tok-go { color: #888888 } /* Generic.Output */
pre.pygments .tok-gp { color: #555555 } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #aaaaaa } /* Generic.Subheading */
pre.pygments .tok-gt { color: #aa0000 } /* Generic.Traceback */
pre.pygments .tok-kc { color: #000080; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #000080; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #000080; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #000080; font-weight: bold } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #000080; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #000080; font-weight: bold } /* Keyword.Type */
pre.pygments .tok-m { color: #0000FF } /* Literal.Number */
pre.pygments .tok-s { color: #0000FF } /* Literal.String */
pre.pygments .tok-na { color: #FF0000 } /* Name.Attribute */
pre.pygments .tok-nt { color: #000080; font-weight: bold } /* Name.Tag */
pre.pygments .tok-ow { font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #0000FF } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #0000FF } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #0000FF } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #0000FF } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #0000FF } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #0000FF } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #0000FF } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #800080 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #0000FF } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #0000FF } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #0000FF } /* Literal.String.Double */
pre.pygments .tok-se { color: #0000FF } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #0000FF } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #0000FF } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #0000FF } /* Literal.String.Other */
pre.pygments .tok-sr { color: #0000FF } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #0000FF } /* Literal.String.Single */
pre.pygments .tok-ss { color: #0000FF } /* Literal.String.Symbol */
pre.pygments .tok-il { color: #0000FF } /* Literal.Number.Integer.Long */
</style>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888; display: contents}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class="book"><div id="MathJax_Message" style="display: none;"></div>
<div id="header">
<h1>OGC API - Features - Part 3: Filtering</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: 2024-03-26</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:&nbsp;&nbsp;2024-05-23</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:&nbsp;&nbsp;2024-07-26</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC® document: <a href="http://www.opengis.net/doc/IS/ogcapi-features-3/1.0" class="bare">http://www.opengis.net/doc/IS/ogcapi-features-3/1.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC® document:&nbsp;&nbsp;&nbsp;&nbsp;19-079r2</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: 1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Latest Published Draft: n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC® Implementation Specification</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editors:&nbsp;Panagiotis (Peter) A. Vretanos, Clemens Portele</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC API - Features - Part 3: Filtering</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright © 2024 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This document is an OGC Member approved international standard. This document is available on a royalty free, non-discriminatory basis. Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:&nbsp;&nbsp;&nbsp;	OGC® Standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:&nbsp;&nbsp;&nbsp;	Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:&nbsp;&nbsp;&nbsp;	Approved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language:&nbsp;	English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>License Agreement</p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_scope">1. Scope</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance">2. Conformance</a>
<ul class="sectlevel2">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_roadmap">2.1. Roadmap</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_references">3. References</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_terms_definitions_symbols_and_abbreviated_terms">4. Terms, Definitions, Symbols and Abbreviated Terms</a>
<ul class="sectlevel2">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_terms_and_definitions">4.1. Terms and Definitions</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#collection-def">4.1.1. collection</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#endpoint-def">4.1.2. endpoint</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-def">4.1.3. filter expression</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#predicate-def">4.1.4. predicate</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#publisher-def">4.1.5. publisher</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryable-def">4.1.6. queryable</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#resource-def">4.1.7. resource</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#web-resource-def">4.1.8. web resource</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_abbreviated_terms">4.2. Abbreviated terms</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conventions_and_background">5. Conventions and background</a>
<ul class="sectlevel2">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_general_remarks">5.1. General remarks</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_identifiers">5.2. Identifiers</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_additional_link_relation_types">5.3. Additional link relation types</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_http_uris">5.4. HTTP URIs</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_dependencies_to_other_requirements_classes">5.5. Dependencies to other requirements classes</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryables">6. Requirements Class "Queryables"</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryables-query-parameters">7. Requirements Class "Queryables as Query Parameters"</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_requirements_class_filter">8. Requirements Class "Filter"</a>
<ul class="sectlevel2">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-overview">8.1. Overview</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param">8.2. Parameter filter</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-lang-param">8.3. Parameter filter-lang</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-crs-param">8.4. Parameter filter-crs</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_interaction_with_other_predicates">8.5. Interaction with other predicates</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_cql2_functions">8.6. CQL2 functions</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_filter_expression_languages">8.7. Filter expression languages</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-response">8.8. Response</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_requirements_class_features_filter">9. Requirements Class "Features Filter"</a>
<ul class="sectlevel2">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#features-filter-overview">9.1. Overview</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_queryables">9.2. Queryables</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_operation">9.2.1. Operation</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_feature_collection">9.3. Feature Collection</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_response">9.3.1. Response</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_features">9.4. Features</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_operation_2">9.4.1. Operation</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_response_2">9.4.2. Response</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#mediatypes">10. Media Types</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_security_considerations">11. Security Considerations</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#ats">Annex A: Abstract Test Suite (Normative)</a>
<ul class="sectlevel2">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_queryables">A.1. Conformance Class "Queryables"</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_1">A.1.1. Conformance Test 1</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_2">A.1.2. Conformance Test 2</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_3">A.1.3. Conformance Test 3</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_queryables_as_query_parameters">A.2. Conformance Class "Queryables as Query Parameters"</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_4">A.2.1. Conformance Test 4</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_5">A.2.2. Conformance Test 5</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_filter">A.3. Conformance Class "Filter"</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_6">A.3.1. Conformance Test 6</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_7">A.3.2. Conformance Test 7</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_8">A.3.3. Conformance Test 8</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_9">A.3.4. Conformance Test 9</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_10">A.3.5. Conformance Test 10</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_11">A.3.6. Conformance Test 11</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_12">A.3.7. Conformance Test 12</a></li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_features_filter">A.4. Conformance Class "Features Filter"</a>
<ul class="sectlevel3">
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_13">A.4.1. Conformance Test 13</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_14">A.4.2. Conformance Test 14</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_15">A.4.3. Conformance Test 15</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_16">A.4.4. Conformance Test 16</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_17">A.4.5. Conformance Test 17</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_revision_history">Annex B: Revision History</a></li>
<li><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#Bibliography">Annex C: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph">
<p>OGC API Standards define modular API building blocks to spatially enable Web APIs in a consistent way. The <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OpenAPI">OpenAPI specification</a> is used to define the API building blocks.</p>
</div>
<div class="paragraph">
<p>OGC API - Features provides API building blocks to create, modify and query
features on the Web. OGC API - Features is comprised of multiple parts. Each
part is a separate standard.</p>
</div>
<div class="paragraph">
<p>A fundamental operation performed on a <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#collection-def">collection</a> of features is that of
filtering in order to obtain a subset of the data which contains feature
instances that satisfy some filtering criteria.  Part three of the OGC API - Features Standard defines
query parameters (<code>filter</code>, <code>filter-lang</code>, <code>filter-crs</code>) to specify filter
criteria in a request to an API and the Queryables resource that declares the properties
of data in a collection that can be used in filter expressions.</p>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>OGC, filter, expression, query, SQL, CQL2, where clause, selection clause, OGC API</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph">
<p>The following organizations submitted this document to the Open Geospatial Consortium (OGC):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CubeWerx Inc.</p>
</li>
<li>
<p>Ecere Corporation</p>
</li>
<li>
<p>GeoSolutions di Giannecchini Simone &amp; C. s.a.s.</p>
</li>
<li>
<p>interactive instruments GmbH</p>
</li>
<li>
<p>US Army Geospatial Center (AGC)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph">
<p>All questions regarding this submission should be directed to the editors or the submitters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Affiliation</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Panagiotis (Peter) A. Vretanos <em>(editor)</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">CubeWerx Inc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Clemens Portele <em>(editor)</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">interactive instruments GmbH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Andrea Aime</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GeoSolutions di Giannecchini Simone &amp; C. s.a.s.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Jeff Harrison</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">US Army Geospatial Center (AGC)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Jérôme Jacovella-St-Louis</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Ecere Corporation</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document specifies an extension to the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features -
Part 1: Core</a> standard that defines the behavior of a server that supports
enhanced filtering capabilities expressed using the Common Query Language (CQL2).</p>
</div>
<div class="paragraph">
<p>Enhanced filtering capabilities in this case means that the server supports
the ability to define selection clauses using predicates beyond those supported
by Part 1 (i.e., <code>bbox</code> and <code>datetime</code>).</p>
</div>
<div class="paragraph">
<p>This document defines</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Query parameters for specifying a filter in a request to a Web API;</p>
</li>
<li>
<p>Support for CQL2 Text and CQL2 JSON as languages for filter expressions;</p>
</li>
<li>
<p>How the set of properties that can be used to construct filter expressions ("queryables") are published by a Web API.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This standard defines the following requirements classes,
grouped by their standardization target:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Web API</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Queryables</a></p>
</li>
<li>
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryable-query-parameters">Queryables as Query Parameters</a></p>
</li>
<li>
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Filter</a></p>
</li>
<li>
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_features-filter">Features Filter</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Queryables</a> requirements class defines the Queryables resource (at path <code>/collections/{collectionId}/queryables</code>) and its representation as a JSON Schema. Queryables can be used to determine the list of property names and their schemas that may be used to construct filter expressions.</p>
</div>
<div class="paragraph">
<p>The <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryable-query-parameters">Queryables as Query Parameters</a> requirements class adds the requirement to provide query parameters for queryables according to the recommendation in the section <a href="https://docs.ogc.org/is/17-069r4/17-069r4.html#rec_core_fc-filters">Parameters for filtering on feature properties</a> in OGC API - Features - Part 1: Core.</p>
</div>
<div class="paragraph">
<p>The <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Filter</a> requirements class defines a set of HTTP query
parameters that may be used to specify complex filter expressions on
HTTP requests.  The specific set of parameters defined in this requirements
class is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>filter</code> - The filter expression.</p>
</li>
<li>
<p><code>filter-lang</code> - The language used in the filter expression.</p>
</li>
<li>
<p><code>filter-crs</code> - The coordinate reference system used in the filter expression, if Part 2 is supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_features-filter">Features Filter</a> requirements class defines the
binding between the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Filter</a> requirements class and the
<a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a> standard.</p>
</div>
<div class="paragraph">
<p>Conformance with this standard shall be checked using all the relevant tests
specified in <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#ats">Annex A</a> of this document. The framework, concepts, and
methodology for testing, and the criteria to be achieved to claim conformance
are specified in the OGC Compliance Testing Policies and Procedures and the
OGC Compliance Testing web site.</p>
</div>
<table id="conf_class_uris" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Conformance class URIs</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Conformance class</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_queryables">Queryables</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_queryables-query-parameters">Queryables as Query Parameters</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables-query-parameters</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_filter">Filter</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/filter</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_features-filter">Features Filter</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/features-filter</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>APIs that implement the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#CQL2">Common Query Language (CQL2)</a> Standard should advertize all supported CQL2 conformance classes in the Conformance Declaration, too.</p>
</div>
<div class="sect2">
<h3 id="_roadmap"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_roadmap"></a>2.1. Roadmap</h3>
<div class="paragraph">
<p>The content of this sub-clause is informative.</p>
</div>
<div class="paragraph">
<p>Because the filter parameters are not exclusively useful for features, it is anticipated that the
<a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Queryables</a> and <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Filter</a> requirements classes will eventually become parts of the OGC API - Common suite of standards thus
leaving the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables_param">Queryables as Query Parameters</a> and <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_features-filter">Features Filter</a> requirements classes as part
3 of the OGC API - Features Standard.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="OAFeat-1"></a> Open Geospatial Consortium (OGC). OGC 17-069r4: <strong>OGC API - Features - Part 1: Core corrigendum</strong> [online]. Edited by C. Portele, P. Vretanos, C. Heazel. 2022 [viewed 2023-02-19]. Available at <a href="https://docs.ogc.org/is/17-069r4/17-069r4.html" class="bare">https://docs.ogc.org/is/17-069r4/17-069r4.html</a></p>
</li>
<li>
<p><a id="OAFeat-2"></a> Open Geospatial Consortium (OGC). OGC 18-058r1: <strong>OGC API - Features - Part 2: Coordinate Reference Systems by Reference corrigendum</strong> [online]. Edited by C. Portele, P. Vretanos. 2022 [viewed 2023-02-19]. Available at <a href="https://docs.ogc.org/is/18-058r1/18-058r1.html" class="bare">https://docs.ogc.org/is/18-058r1/18-058r1.html</a></p>
</li>
<li>
<p><a id="CQL2"></a> Open Geospatial Consortium (OGC). OGC 21-065r1: <strong>Common Query Language (CQL2)</strong> [online]. Edited by P. Vretanos, C. Portele. to be published. Available at <a href="https://docs.ogc.org/is/21-065r1/21-065r1.html" class="bare">https://docs.ogc.org/is/21-065r1/21-065r1.html</a></p>
</li>
<li>
<p><a id="json-schema"></a> Internet Engineering Task Force (IETF). draft-bhutton-json-schema-01: <strong>JSON Schema: A Media Type for Describing JSON Documents</strong> [online]. Edited by A. Wright, H. Andrews, B. Hutton, G. Dennis. 2022 [viewed 2024-02-28]. Available at <a href="https://json-schema.org/draft/2020-12/json-schema-core" class="bare">https://json-schema.org/draft/2020-12/json-schema-core</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_definitions_symbols_and_abbreviated_terms"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_terms_definitions_symbols_and_abbreviated_terms"></a>4. Terms, Definitions, Symbols and Abbreviated Terms</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_terms_and_definitions"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_terms_and_definitions"></a>4.1. Terms and Definitions</h3>
<div class="paragraph">
<p>This document used the terms defined in <a href="https://portal.ogc.org/public_ogc/directives/directives.php">OGC Policy Directive 49</a>, which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard and OGC documents do not use the equivalent phrases in the ISO/IEC Directives, Part 2.</p>
</div>
<div class="paragraph">
<p>This document also uses terms defined in the OGC Standard for Modular specifications (<a href="https://portal.opengeospatial.org/files/?artifact_id=34762">OGC 08-131r3</a>), also known as the 'ModSpec'. The definitions of terms such as standard, specification, requirement, and conformance test are provided in the ModSpec.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following additional terms and definitions apply.</p>
</div>
<div class="sect3">
<h4 id="collection-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#collection-def"></a>4.1.1. collection</h4>
<div class="paragraph">
<p>a body of resources that belong or are used together; an aggregate, set, or group of related resources (<a href="http://docs.opengeospatial.org/DRAFTS/20-024.html#terms_and_definitions">OGC 20-024, OGC API - Common - Part 2: Collections</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="endpoint-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#endpoint-def"></a>4.1.2. endpoint</h4>
<div class="paragraph">
<p>a web address (URI) at which access can be gained to a service or resource</p>
</div>
</div>
<div class="sect3">
<h4 id="filter-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-def"></a>4.1.3. filter expression</h4>
<div class="paragraph">
<p><strong>predicate</strong> encoded for transmission between systems</p>
</div>
</div>
<div class="sect3">
<h4 id="predicate-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#predicate-def"></a>4.1.4. predicate</h4>
<div class="paragraph">
<p>set of computational operations applied to a data instance which evaluate to true or false (<a href="http://docs.opengeospatial.org/is/09-026r2/09-026r2.html">OGC Filter Encoding 2.0 Encoding Standard - With Corrigendum</a>)</p>
</div>
</div>
<div class="sect3">
<h4 id="publisher-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#publisher-def"></a>4.1.5. publisher</h4>
<div class="paragraph">
<p>entity responsible for making a resource available (<a href="https://www.dublincore.org/specifications/dublin-core/dcmi-terms/#http://purl.org/dc/terms/publisher">Dublin Core Metadata Initiative - DCMI Metadata Terms</a>)</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
As content of OGC API Standards, a resource is typically published at an endpoint.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="queryable-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryable-def"></a>4.1.6. queryable</h4>
<div class="paragraph">
<p>a token that represents a property of a resource that can be used in a <strong>filter expression</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="resource-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#resource-def"></a>4.1.7. resource</h4>
<div class="paragraph">
<p>entity that might be identified (<a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#iso15836-2">Dublin Core Metadata Initiative - DCMI Metadata Terms</a>)</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The term "resource", when used in the context of an OGC API Standard, should be understood to mean a <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#web-resource-def">web resource</a> unless otherwise indicated.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="web-resource-def"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#web-resource-def"></a>4.1.8. web resource</h4>
<div class="paragraph">
<p>a <strong>resource</strong> that is identified by a HTTP URI.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_abbreviated_terms"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_abbreviated_terms"></a>4.2. Abbreviated terms</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">ABNF</dt>
<dd>
<p>Augmented Backus-Naur Form</p>
</dd>
<dt class="hdlist1">API</dt>
<dd>
<p>Application Programming Interface</p>
</dd>
<dt class="hdlist1">BNF</dt>
<dd>
<p>Backus-Naur Form</p>
</dd>
<dt class="hdlist1">CQL2</dt>
<dd>
<p>Common Query Language</p>
</dd>
<dt class="hdlist1">CRS</dt>
<dd>
<p>Coordinate Reference System</p>
</dd>
<dt class="hdlist1">HTTP</dt>
<dd>
<p>Hypertext Transfer Protocol</p>
</dd>
<dt class="hdlist1">HTTPS</dt>
<dd>
<p>Hypertext Transfer Protocol Secure</p>
</dd>
<dt class="hdlist1">IANA</dt>
<dd>
<p>Internet Assigned Numbers Authority</p>
</dd>
<dt class="hdlist1">JSON</dt>
<dd>
<p>JavaScript Object Notation</p>
</dd>
<dt class="hdlist1">OGC</dt>
<dd>
<p>Open Geospatial Consortium</p>
</dd>
<dt class="hdlist1">URI</dt>
<dd>
<p>Uniform Resource Identifier</p>
</dd>
<dt class="hdlist1">WKT</dt>
<dd>
<p>Well-Known Text</p>
</dd>
<dt class="hdlist1">YAML</dt>
<dd>
<p>YAML Ain’t Markup Language</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions_and_background"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conventions_and_background"></a>5. Conventions and background</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_remarks"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_general_remarks"></a>5.1. General remarks</h3>
<div class="paragraph">
<p>See <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clauses 5 and 6.</p>
</div>
</div>
<div class="sect2">
<h3 id="_identifiers"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_identifiers"></a>5.2. Identifiers</h3>
<div class="paragraph">
<p>The normative provisions in this standard are denoted by the URI <code>http://www.opengis.net/spec/ogcapi-features-3/1.0</code>.</p>
</div>
<div class="paragraph">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
</div>
<div class="sect2">
<h3 id="_additional_link_relation_types"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_additional_link_relation_types"></a>5.3. Additional link relation types</h3>
<div class="paragraph">
<p>The following OGC link relation types are introduced in this document (no applicable link relation type in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#link-relations">IANA link relation type register</a> could be identified):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>http://www.opengis.net/def/rel/ogc/1.0/queryables</strong>: Refers to a resource that lists properties that can be used to query sub-resources of the link’s context.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an alternative, the <a href="https://docs.ogc.org/pol/09-048r6.html#toc14">Compact URI (CURIE)</a> <strong>[ogc-rel:queryables]</strong> can be used, too, where a CURIE is an allowed value.</p>
</div>
</div>
<div class="sect2">
<h3 id="_http_uris"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_http_uris"></a>5.4. HTTP URIs</h3>
<div class="paragraph">
<p>If URIs include reserved characters that are delimiters in the URI subcomponent, these have to be percent-encoded. See Clause 2 of <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rfc3986">RFC 3986</a> for details. Not all URIs in this document are properly percent-encoded for better readability.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dependencies_to_other_requirements_classes"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_dependencies_to_other_requirements_classes"></a>5.5. Dependencies to other requirements classes</h3>
<div class="paragraph">
<p>The requirements classes in this extension distinguish two types of dependencies to other specifications or requirements classes:</p>
</div>
<div class="paragraph">
<p>First, there are the obligatory dependencies. Every server implementing the requirements class has to conform to the referenced specification or requirements class.</p>
</div>
<div class="paragraph">
<p>In addition, requirements classes can also have conditional dependencies. Servers implementing the requirements class do not have to conform to the referenced specification or requirements class, but if they do, they have to conform to the requirements that identify the conditional dependency as a pre-condition for the normative statement.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="queryables"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryables"></a>6. Requirements Class "Queryables"</h2>
<div class="sectionbody">
<table id="rc_queryables" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/req/queryables" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/req/queryables</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This requirements class defines the Queryables resource for discovering a list of
resource properties with their types and constraints that may be used to construct filter
expressions on a collection of resources, for example, a set of features.</p>
</div>
<div class="paragraph">
<p>This Standard does not assume that the content schema of a
resource being queried is available for inspection. Therefore, a means needs
to exist to interrogate an <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#endpoint-def">endpoint</a> to determine the names and types of the
properties that may be used to construct a filter expression
("queryables").</p>
</div>
<div class="paragraph">
<p>In addition, a <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#publisher-def">publisher</a> may want to support <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryable-def">queryables</a> that are not
directly represented as resource properties in the content schema of the
resource. Or the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#publisher-def">publisher</a> may want to restrict filtering on certain
properties. For example, because the backend datastore has not been configured
to allow high-performance queries on those properties.</p>
</div>
<table id="req_queryables_queryables-link" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/queryables/queryables-link</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The Queryables resource SHALL be referenced from any filterable resource
with a link with the link relation type <code>http://www.opengis.net/def/rel/ogc/1.0/queryables</code>
(or, alternatively, <code>[ogc-rel:queryables]</code>, where a CURIE is explicitly allowed as a value).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is <a href="http://www.opengis.net/doc/IS/ogcapi-features-1/1.0#_link_headers">recommended to include the link in the response via an HTTP header</a>.</p>
</div>
<table id="req_queryables_get-queryables-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/queryables/get-queryables-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The Queryables resource SHALL support the HTTP GET operation and the media type <code>application/schema+json</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The response is returned as a JSON Schema document that describes a single JSON object where each property is a queryable.</p>
</div>
<table id="req_queryables_get-queryables-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/queryables/get-queryables-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response
with an HTTP status code of <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For responses that use <code>application/schema+json</code> as the <code>Content-Type</code> of
the response, the response SHALL have the following characteristics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The property <code>$schema</code> is <code>https://json-schema.org/draft/2020-12/schema</code>.</p>
</li>
<li>
<p>The property <code>$id</code> is the URI of the resource without query parameters.</p>
</li>
<li>
<p>The <code>type</code> is <code>object</code> and each property is a queryable.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each property SHALL include a <code>type</code> member, except for spatial properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each spatial property SHALL not include a <code>type</code> or <code>$ref</code> member.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each spatial property SHALL include a <code>format</code> member with a string value "geometry", followed by a hyphen, followed by the name of the geometry type in lower case. I.e., the values for the Simple Feature geometry types are: "geometry-point", "geometry-multipoint", "geometry-linestring", "geometry-multilinestring", "geometry-polygon", "geometry-multipolygon", and "geometry-geometrycollection". In addition, the following special values are supported: "geometry-any" as the wildcard for any geometry type, "geometry-point-or-multipoint" for a Point or MultiPoint, "geometry-linestring-or-multilinestring" for a LineString or MultiLineString, and "geometry-polygon-or-multipolygon" for a Polygon or MultiPolygon.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each temporal property SHALL be a string literal with the appropriate format (e.g., <code>date-time</code> or <code>date</code> for instances, depending on the temporal granularity).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>additionalProperties</code> member with a value of <code>true</code> or <code>false</code> is used
to state the behavior with respect to properties that are not explicitly declared
in the queryables schema.</p>
</div>
<div class="paragraph">
<p>If <code>additionalProperties</code> is missing or has the default value <code>true</code>,
any property name is valid in a filter expression and the property reference SHALL
evaluate to <code>null</code>, if the property does not exist for a resource.</p>
</div>
<div class="paragraph">
<p>If <code>additionalProperties</code> is set to <code>false</code>, property references that are not
explicitly declared in the queryables schema SHALL result in a <code>400</code> response.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The queryables schema does not specify a schema of any object that can be retrieved from the API. JSON Schema is used for the queryables to have a consistent approach for describing schema information. The queryables schema describes a "virtual" resource view for the purpose of filtering. JSON Schema will also be used in Part 5: Schemas of OGC API Features to describe schemas for feature content.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To support clients, providing additional detail about the meaning of the
queryable properties and their value range is recommended:</p>
</div>
<table id="rec_queryables_queryables-schema" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/queryables/queryables-schema</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each property SHOULD have a human readable title (<code>title</code>) and, where necessary for the understanding of the property, a description (<code>description</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>type</code> SHOULD be one of the following values: <code>string</code> (string or temporal properties), <code>number</code>/<code>integer</code> (numeric properties), <code>boolean</code> (boolean properties), <code>object</code> (object properties) or <code>array</code> (array properties).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Properties that represent a URI SHOULD be represented as a string with format <code>uri</code> or <code>uri-reference</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Properties that represent a URI template SHOULD be represented as a string with format <code>uri-template</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Properties that represent a UUID SHOULD be represented as a string with format <code>uuid</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For string properties that are , <code>minLength</code>, <code>maxLength</code>, <code>enum</code> and/or <code>pattern</code> SHOULD be provided, where applicable.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For numeric properties, <code>multipleOf</code>, <code>minimum</code>, <code>exclusiveMinimum</code>, <code>maximum</code>, <code>exclusiveMaximum</code> SHOULD be provided, where applicable.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">H</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For integer properties that represent enumerated values, <code>enum</code> SHOULD be provided.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For array properties, the property SHOULD consist of items that are strings or numbers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">J</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The JSON Schema keywords SHOULD be constrained to the those mentioned in this recommendation and requirement <code>/req/queryables/get-queryables-response</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="example_1" class="exampleblock">
<div class="title">Example 1. Queryables example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "$id" : "https://demo.ldproxy.net/zoomstack/collections/roads_national/queryables",
  "type" : "object",
  "title" : "National Roads",
  "description" : "Lines representing the road network. A road is defined as a metalled way for vehicles.",
  "properties" : {
    "geom" : {
      "title": "Centerline",
      "description": "The geometry of the road.",
      "x-ogc-role" : "primary-geometry",
      "format" : "geometry-linestring"
    },
    "name" : {
      "title" : "Road Name",
      "description": "The common, human readable, name of the road.",
      "type" : "string"
    },
    "number" : {
      "title" : "Road Identifier",
      "description": "The official number of the road.",
      "type" : "string"
    },
    "type" : {
      "title" : "Type",
      "description": "The road type, one of 'Primary' or 'Motorway'.",
      "enum" : [ "Primary", "Motorway" ],
      "type" : "string"
    },
    "level" : {
      "title" : "Level",
      "enum" : [ 0, 1, 2 ],
      "type" : "integer"
    }
  },
  "additionalProperties" : false
}</code></pre>
</div>
</div>
</div>
</div>
<div id="example_1b" class="exampleblock">
<div class="title">Example 2. Filtering on complex data structures</div>
<div class="content">
<div class="paragraph">
<p>Queryables also support simplified filtering on complex data structures. This example illustrates one potential approach to define a queryable on specific <a href="https://stacspec.org/">SpatioTemporal Asset Catalog (STAC)</a> assets. The following is a STAC snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>"features": [
  {
    "type": "Feature",
    "assets": {
      "B5": {
        "eo:bands": [
          {
            "common_name": "nir",
            "name": "B5"
          }
        ],
        "href": "https://landsat-pds.s3.us-west-2.amazonaws.com/c1/L8/060/247/LC08_L1TP_060247_20180905_20180912_01_T1/LC08_L1TP_060247_20180905_20180912_01_T1_B5.TIF",
        "type": "image/tiff; application=geotiff; profile=cloud-optimized"
      }
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>A common type of filter is to fetch only resources that have in their <code>assets</code> object a value that has an <code>eo:bands</code> value that contains a <code>common_name</code> value of "nir".</p>
</div>
<div class="paragraph">
<p>This could be implemented using a queryable <code>common_band_names</code> defined as an array of strings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.net/stac/collections/landsat/queryables",
  "type": "object",
  "title": "A STAC item",
  "properties": {
    "common_band_names": {
      "title": "Common band names",
      "description": "an array of common band names included in the assets",
      "type" : "array",
      "items": {
        "type": "string"
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Internally this could be mapped to the following JSON Path for a STAC item (<code>item</code>):</p>
</div>
<div class="paragraph">
<p><code>item['assets'][*]['eo:bands'][\*]['common_name']</code></p>
</div>
<div class="paragraph">
<p>Note that the JSON Path is just included here to clarify the mapping. An implementation would use a mapping that fits its backend datastore, but these details are hidden from the user.</p>
</div>
<div class="paragraph">
<p>A client can now use, e.g., the CQL2 array predicates to filter with the queryable. Examples using the CQL2 text encoding:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>A_CONTAINS(common_band_names, ["nir"])</code> - includes at least a 'nir' band</p>
</li>
<li>
<p><code>A_EQUALS(common_band_names, ["nir","blue"])</code> - 'nir' and 'blue' exist for the feature, but no other band</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="queryables-query-parameters"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#queryables-query-parameters"></a>7. Requirements Class "Queryables as Query Parameters"</h2>
<div class="sectionbody">
<table id="rc_queryable-query-parameters" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/req/queryables-query-parameters" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/req/queryables-query-parameters</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Core"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Requirements Class "Queryables"</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This requirements class specifies a requirement to provide query parameters for queryables according to the recommendation in the section <a href="https://docs.ogc.org/is/17-069r4/17-069r4.html#rec_core_fc-filters">Parameters for filtering on feature properties</a> in OGC API - Features - Part 1: Core.</p>
</div>
<table id="req_queryables-query-parameters_parameters" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/queryables-query-parameters/parameters</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every feature collection, the server SHALL support the Queryables resource at the path
 <code>/collections/{collectionId}/queryables</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the Collections resource (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every queryable of a feature collection that has a simple value (string, number, integer or boolean),
the collection SHALL support a query parameter at path <code>/collections/{collectionId}/items</code>
with the same schema as the schema of the queryable.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the query parameter is provided in a request, the response SHALL only include
resources that match the provided value for the queryable.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="example_1c" class="exampleblock">
<div class="title">Example 3. Queryables as Query Parameters example</div>
<div class="content">
<div class="paragraph">
<p>The OpenAPI 3.0 definitions of the query parameters for the Queryables in <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#example_1">Queryables example</a> would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type_roads_national:
  name: type
  in: query
  description: Filter the collection by property 'type' (Road Type).
  required: false
  style: form
  explode: false
  schema:
    title: Road Type
    description: The road type, one of 'Primary' or 'Motorway'.
    type: string
    enum:
    - Primary
    - Motorway
name_roads_national:
  name: name
  in: query
  description: Filter the collection by property 'name' (Road Name).
  required: false
  style: form
  explode: false
  schema:
    title: Road Name
    description: The common, human readable, name of the road.
    type: string
number_roads_national:
  name: number
  in: query
  description: Filter the collection by property 'number' (Road Identifier).
  required: false
  style: form
  explode: false
  schema:
    title: Road Identifier
    description: The official number of the road.
    type: integer
    minimum: 1
    maximum: 9999</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_class_filter"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_requirements_class_filter"></a>8. Requirements Class "Filter"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="filter-overview"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-overview"></a>8.1. Overview</h3>
<table id="rc_filter" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/req/filter" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/req/filter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Requirements Class "Queryables"</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a> defines two filtering parameters on the resource at path <code>/collections/{collectionId}/items</code>: <code>bbox</code> and <code>datetime</code>. <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a> also adds support for simple equality predicates logically joined using the <code>AND</code> operator. These capabilities offer simple resource filtering for HTTP requests.</p>
</div>
<div class="paragraph">
<p>The Filter requirements class defines additional query parameters that allow more
complex filtering expressions to be specified when querying server resources.</p>
</div>
<div class="paragraph">
<p>Specifically, this clause defines the parameters, <code>filter</code>, <code>filter-lang</code> and
<code>filter-crs</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="filter-param"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param"></a>8.2. Parameter filter</h3>
<div class="paragraph">
<p>The <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Filter</a> requirements class defines a general parameter, <code>filter</code>, whose
value is a filter expression to be applied when retrieving resources. This
is necessary to determine which resources should be included in a result set.</p>
</div>
<table id="req_filter_filter-param" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/filter-param</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The HTTP GET operation on the path that fetches resource instances (e.g. <code>/collections/{collectionId}/items</code>) SHALL support a parameter <code>filter</code> based on the following OpenAPI 3.0 fragment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: filter
in: query
required: false
schema:
  type: string
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_filter_filter-default" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/filter/queryables-schema</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>filter</code> parameter MAY specify a default value.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="filter-lang-param"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-lang-param"></a>8.3. Parameter filter-lang</h3>
<div class="paragraph">
<p>Any predicate language that can be suitably expressed as the value of an
HTTP query parameter may be specified as the value of the <code>filter</code> parameter.
In order to specify that specific language that is being used, this clause
defines the <code>filter-lang</code> parameter.</p>
</div>
<table id="req_filter_filter-lang-param" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/filter-lang-param</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The HTTP GET operation on the path that fetches resource instances (e.g. <code>/collections/{collectionId}/items</code>) SHALL support a parameter <code>filter-lang</code> based on the following OpenAPI 3.0 fragment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: filter-lang
in: query
required: false
schema:
  type: string
  enum:
     - 'cql2-text'
     - 'cql2-json'
  default: 'cql2-text'
style: form</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>enum</code> array in the schema of <code>filter-lang</code> SHALL list the filter encodings that the server supports for the resource.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>default</code> value in the schema of <code>filter-lang</code> SHALL identify the filter encoding that the server will assume, if a <code>filter</code> is provided, but no <code>filter-lang</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The enumerated value <code>cql2-text</code> is used to indicate that the value of the
<a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param"><code>filter</code></a> parameter is the <a href="https://docs.ogc.org/is/21-065r1/21-065r1.html#basic-cql2-text">text encoding of CQL2</a>.</p>
</div>
<div class="paragraph">
<p>The enumerated value <code>cql2-json</code> is used to indicate that the value of the
<a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param"><code>filter</code></a> parameter is the <a href="https://docs.ogc.org/is/21-065r1/21-065r1.html#basic-cql2-JSON">JSON encoding of CQL2</a>.</p>
</div>
<div class="paragraph">
<p>Servers that support other filtering languages can extend this list of values
as necessary although the meanings of any additional values are not described
in this Standard.</p>
</div>
</div>
<div class="sect2">
<h3 id="filter-crs-param"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-crs-param"></a>8.4. Parameter filter-crs</h3>
<div class="paragraph">
<p>For reasons discussed in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#SDWBP">W3C/OGC Spatial Data on the Web Best Practices document</a>, spatial coordinates by default are in the coordinate reference system WGS 84 longitude and latitude for 2D coordinates and WGS 84 longitude, latitude and ellipsoidal height in meters for 3D coordinates. For servers that support geometries in other coordinate reference systems, the <code>filter-crs</code> parameter defined in this clause allows clients to assert which CRS is being used to encode geometric values in a filter expression.  Otherwise, the <code>filter-crs</code> parameter has no use.</p>
</div>
<table id="req_filter_filter-crs-wgs84" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/filter-crs-wgs84</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a HTTP GET operation on the path that fetches resource instances (e.g. <code>/collections/{collectionId}/items</code>) includes a <code>filter</code> parameter, but no <code>filter-crs</code> parameter, the server SHALL process all geometries in the filter expression using <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">CRS84</a> (for coordinates without height) or <a href="http://www.opengis.net/def/crs/OGC/0/CRS84h">CRS84h</a> (for coordinates with ellipsoidal height) as the coordinate reference system (CRS).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_filter_filter-crs-param" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/filter-crs-param</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports additional coordinate reference systems</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The HTTP GET operation on the path that fetches resource instances (e.g. <code>/collections/{collectionId}/items</code>) SHALL support a parameter <code>filter-crs</code> based on the following OpenAPI 3.0 fragment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: filter-crs
in: query
required: false
schema:
  type: string
  format: uri-reference
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an HTTP GET operation on the path that fetches resource instances (e.g. <code>/collections/{collectionId}/items</code>) includes the <code>filter</code> and the <code>filter-crs</code> parameter, the server SHALL process all geometries in the filter expression using the CRS identified by the URI in <code>filter-crs</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL return an error, if it does not support the CRS identified in <code>filter-crs</code> for the resource.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Discovery of the list of supported coordinate reference systems for use with the <code>filter-crs</code> parameter depends on the filterable resource.
</td>
</tr>
</tbody></table>
</div>
<table id="rec_filter_filter-crs-list" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/filter/filter-crs-list</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHOULD list the supported coordinate reference system URIs
as enums in the schema of the <code>filter-crs</code> parameter.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_interaction_with_other_predicates"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_interaction_with_other_predicates"></a>8.5. Interaction with other predicates</h3>
<div class="paragraph">
<p>Servers can and often will support additional filtering parameters on filterable resources.  This clause defines how the <code>filter</code> parameter and other filtering parameters should interact if specified in a single request.</p>
</div>
<table id="req_filter_mixing-expressions" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/mixing-expressions</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Other filter predicates supported by the server (e.g. <code>bbox</code>, <code>datetime</code>, etc.) SHALL be logically connected with the <code>AND</code> operator when mixed in a request with the <code>filter</code> parameter.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_cql2_functions"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_cql2_functions"></a>8.6. CQL2 functions</h3>
<div class="paragraph">
<p>If the server supports CQL2 and the requirements class "Functions", a resource, <code>/functions</code> is published that allows clients to discover the
list of functions that a server offers.</p>
</div>
<table id="req_filter_get-functions-operation" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/get-functions-operation</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#CQL2">Common Query Language (CQL2)</a>, requirements class "Functions"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A server SHALL support the HTTP GET operation at the <code>/functions</code> path.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_filter_get-functions-response-json" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/get-functions-response-json</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#CQL2">Common Query Language (CQL2)</a>, requirements class "Functions"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with
a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be based upon the following OpenAPI 3.0 schema
and list all functions that the server supports:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
- functions
properties:
  functions:
    type: array
    items:
      type: object
      required:
      - name
      - returns
      properties:
        name:
          type: string
        description:
          type: string
        metadataUrl:
          type: string
          format: uri-reference
        arguments:
          type: array
          items:
            type: object
            required:
            - type
            properties:
              title:
                type: string
              description:
                type: string
              type:
                type: array
                items:
                  type: string
                  enum:
                  - string
                  - number
                  - integer
                  - datetime
                  - geometry
                  - boolean
        returns:
          type: array
          items:
            type: string
            enum:
            - string
            - number
            - integer
            - datetime
            - geometry
            - boolean</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div id="example_9_10" class="exampleblock">
<div class="title">Example 4. Get functions JSON response example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
   "functions": [
      {
         "name": "min",
         "arguments": [
            {
               "type": ["string","number","datetime"]
            },
            {
               "type": ["string","number","datetime"]
            },
         ],
         "returns": ["string","number","datetime"]
      },
      {
         "name": "max",
         "arguments": [
            {
               "type": ["string","number","datetime"]
            },
            {
               "type": ["string","number","datetime"]
            },
         ],
         "returns": ["string","number","datetime"]
      },
      {
         "name": "geometryType",
         "arguments": [
            {
               "type": ["geometry"]
            }
         ],
         "returns": ["string"]
      }
   ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filter_expression_languages"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_filter_expression_languages"></a>8.7. Filter expression languages</h3>
<div class="paragraph">
<p>This Standard only specifies <code>filter-lang</code> values for the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#CQL2">Common Query Language (CQL2)</a>. However, support for
this filter expression language is not mandatory and other languages
can be used as the value of the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param">filter parameter</a>, too.</p>
</div>
</div>
<div class="sect2">
<h3 id="filter-response"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-response"></a>8.8. Response</h3>
<div class="paragraph">
<p>A filter expression defines a subset of items from a collection that should be presented in a query response.</p>
</div>
<table id="req_filter_response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/filter/response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The filter expression SHALL be evaluated for each item of the collection being queried.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the filter expression evaluates to <code>TRUE</code> then the item SHALL be included in the result set.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the filter expression evaluates to <code>FALSE</code> then the item SHALL be excluded from the result set.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_class_features_filter"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_requirements_class_features_filter"></a>9. Requirements Class "Features Filter"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="features-filter-overview"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#features-filter-overview"></a>9.1. Overview</h3>
<table id="rc_features-filter" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/req/features-filter" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/req/features-filter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Requirements Class "Filter"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Core"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This clause defines the binding between the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a> Standard and the filter parameters defined in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Filter conformance class</a> as well as the Queryables resource defined in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Queryables conformance class</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_queryables"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_queryables"></a>9.2. Queryables</h3>
<div class="sect3">
<h4 id="_operation"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_operation"></a>9.2.1. Operation</h4>
<table id="req_features-filter_get-queryables-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features-filter/get-queryables-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every feature collection, the server SHALL support the Queryables resource at the path
 <code>/collections/{collectionId}/queryables</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the Collections resource (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_feature_collection"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_feature_collection"></a>9.3. Feature Collection</h3>
<div class="sect3">
<h4 id="_response"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_response"></a>9.3.1. Response</h4>
<table id="req_features-filter_queryables-link" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features-filter/queryables-link</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The Queryables resource SHALL be referenced from each Collection resource with a
link with the link relation type <code>http://www.opengis.net/def/rel/ogc/1.0/queryables</code>
(or, alternatively, <code>[ogc-rel:queryables]</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_features"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_features"></a>9.4. Features</h3>
<div class="sect3">
<h4 id="_operation_2"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_operation_2"></a>9.4.1. Operation</h4>
<div class="paragraph">
<p>As per the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a> Standard, features are accessed using the HTTP GET method via the <code>/collections/{collectionId}/items</code> path (see <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_items">Features</a>).  The following additional requirements bind the parameters <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param">filter</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-lang-param">filter-lang</a> and <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-crs-param">filter-crs</a> to the GET operation on this path.</p>
</div>
<table id="req_features-filter_filter-param" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 15</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features-filter/filter-param</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The HTTP GET operation on the <code>/collections/{collectionId}/items</code> path SHALL support the <code>filter</code> parameter as defined in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-param">Parameter filter</a> clause.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features-filter_filter-lang-param" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features-filter/filter-lang-param</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The HTTP GET operation on the <code>/collections/{collectionId}/items</code> path SHALL support the <code>filter-lang</code> parameter as defined in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-lang-param">Parameter filter-lang</a> clause.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_features-filter_text-encoding" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/features-filter/text-encoding</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a filter expression can be represented for its intended use as text, servers SHOULD support the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#cql2-text">CQL2 text</a> encoding.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_features-filter_JSON-encoding" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/features-filter/JSON-encoding</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a filter expression can be represented for its intended use as JSON, servers SHOULD support the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#cql2-json">CQL2 JSON</a> encoding.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features-filter_filter-crs-param" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features-filter/filter-crs-param</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The HTTP GET operation on the <code>/collections/{collectionId}/items</code> path SHALL support the <code>filter-crs</code> parameter as defined in the <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#filter-crs-param">Parameter filter-crs</a> clause.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Discovery of the list of supported coordinate reference systems for use with the filter-crs parameter is fully described in <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a>.  Briefly, the list of supported CRSs can be found in the global list of CRS identifiers (path: <code>/collections/crs</code>) and/or the list of collection-specific CRS identifiers (path: <code>/collections/{collectionsId}/crs</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_2"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_response_2"></a>9.4.2. Response</h4>
<table id="req_features-filter_response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 18</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features-filter/response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A filter expression SHALL be evaluated for each feature of a collection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>All other filtering parameters specified (i.e. zero or more of <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameter_bbox">bbox</a>, <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameter_datetime">datetime</a> and <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameters_for_filtering_on_feature_properties">property filters</a>) SHALL be evaluated for each feature of a collection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the filter expression AND all other specified filtering parameters (i.e. zero or more of <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameter_bbox">bbox</a>, <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameter_datetime">datetime</a> and <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameters_for_filtering_on_feature_properties">property filters</a>) evaluate to <code>TRUE</code> then the feature SHALL be included in the result set.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the filter expression OR any other specified filtering parameter (i.e. zero or more of <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameter_bbox">bbox</a>, <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameter_datetime">datetime</a> and <a href="http://docs.opengeospatial.org/is/17-069r3/17-069r3.html#_parameters_for_filtering_on_feature_properties">property filters</a>) evaluates to <code>FALSE</code> then the feature SHALL be excluded from the result set.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL respond with a <code>400</code> error, if a parameter value of <code>filter</code>, <code>filter-lang</code> or <code>filter-crs</code> is invalid.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mediatypes"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#mediatypes"></a>10. Media Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 10.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security_considerations"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_security_considerations"></a>11. Security Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 11.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="ats"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#ats"></a>Annex A: Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This test suite uses the <a href="https://en.wikipedia.org/wiki/Given-When-Then">Given-When-Then</a> notation to specify the tests.</p>
</div>
<div class="paragraph">
<p>In order to execute tests against the Web API under test, the Web API needs to support one of the specified encodings. Since all known implementations at this time support JSON, this test suite uses the JSON encoding and adds a dependency to the Conformance Class "JSON" in OGC API - Common - Part 1: Core for the general "Filter" tests and to the Conformance Class "GeoJSON" in OGC API - Features - Part 1: Core for the feature-specific tests.</p>
</div>
<div class="paragraph">
<p>The Web API under test can require authorization. Any Executable Test Suite implementing this test suite should implement the following security schemes supported by OpenAPI 3.0: HTTP Authorization schemes "basic" and "bearer", API keys, and OAuth2 flow "authorizationCode".</p>
</div>
<div class="sect2">
<h3 id="_conformance_class_queryables"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_queryables"></a>A.1. Conformance Class "Queryables"</h3>
<table id="conf_queryables" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Web API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryables">Requirements Class "Queryables"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>OGC API - Common - Part 1: Core, Conformance Class "JSON"</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Conformance Class "JSON" in Common Core has a dependency to the Conformance Classes "Core" and "Landing Page"; that is, testing against "JSON" will automatically test against the dependencies.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following table lists input given to all tests in this conformance class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The landing page URI of the OGC Web API (<code>{apiURI}</code>);</p>
</li>
<li>
<p>A list of filterable resources in the API (<code>{apiURI}/{pathToResource}</code>);</p>
</li>
<li>
<p>Authentication credentials (optional);</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_conformance_test_1"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_1"></a>A.1.1. Conformance Test 1</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/queryables/get-conformance</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the API declares support for the conformance class</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>n/a</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Conformance Declaration is executed</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/conformance</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that <code>$.conformsTo</code> is a string array that includes the value "http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables".</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_2"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_2"></a>A.1.2. Conformance Test 2</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/queryables/get-queryables-uris</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_queryables_queryables-link">/req/queryables/queryables-link</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that a link to the Queryables resource exists for every filterable resource</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the list of filterable resources (<code>{apiURI}/{pathToResource}</code>);</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request is executed for every filterable resource</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>HEAD</code> (if <code>HEAD</code> results in a 405 response, use <code>GET</code> instead)</p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200");</p>
</li>
<li>
<p>assert that the response includes a <code>Link</code> header with <code>rel</code> set to <code>http://www.opengis.net/def/rel/ogc/1.0/queryables</code>;</p>
</li>
<li>
<p>store the <code>href</code> value as the Queryables URI for the filterable resource ({queryablesUri}).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_3"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_3"></a>A.1.3. Conformance Test 3</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/queryables/get-queryables</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_queryables_get-queryables-op">/req/queryables/get-queryables-op</a>; <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_queryables_get-queryables-response">/req/queryables/get-queryables-response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the Queryables resource exists for every filterable resource</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables-uris" was successful</p>
</li>
<li>
<p>the list of Queryables URIs for the filterable resources (list of {queryablesUri})</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Queryables page is executed for every filterable resource</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{queryablesUri}</code></p>
</li>
<li>
<p>header: <code>Accept: application/schema+json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/schema+json");</p>
</li>
<li>
<p>assert that the value of the <code>$schema</code> member is "https://json-schema.org/draft/2020-12/schema"</p>
</li>
<li>
<p>assert that the value of the <code>$id</code> member is "{queryablesUri}".</p>
</li>
<li>
<p>assert that the value of the <code>type</code> member is "object".</p>
</li>
<li>
<p>assert that <code>$.properties</code> is a non-empty object;</p>
</li>
<li>
<p>assert that each member in <code>$.properties</code> has an object as its value and the object either includes <code>type</code> member or a <code>format</code> member whose value starts with <code>geometry-</code>;</p>
</li>
<li>
<p>assert that the response is a valid JSON Schema;</p>
</li>
<li>
<p>store the key of an arbitrary property with a <code>type</code> member as the sample queryable of the filterable resource;</p>
</li>
<li>
<p>store the key of an arbitrary property of the object as the spatial queryable of the filterable resource, if the value of member is an object that includes no <code>type</code> member and a <code>format</code> member with a value <code>geometry-{type}</code> where <code>{type}</code> is one of "point", "multipoint", "linestring", "multilinestring", "polygon", "multipolygon", "geometrycollection", "any", "point-or-multipoint", "linestring-or-multilinestring", or "polygon-or-multipolygon";</p>
</li>
<li>
<p>store the value of the <code>additionalProperties</code> member or <code>true</code>, if it is not provided.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Sub-requirement G of <code>/req/queryables/get-queryables-response</code> can only be checked when executing filter queries in dependent conformance classes.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_class_queryables_as_query_parameters"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_queryables_as_query_parameters"></a>A.2. Conformance Class "Queryables as Query Parameters"</h3>
<table id="conf_queryables-query-parameters" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables-query-parameters" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables-query-parameters</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Web API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_queryable-query-parameters">Requirements Class "Queryables as Query Parameters"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_queryables">Conformance Class "Queryables"</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table lists input given to all tests in this conformance class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The landing page URI of the OGC Web API (<code>{apiURI}</code>);</p>
</li>
<li>
<p>Authentication credentials (optional);</p>
</li>
<li>
<p>A list of filterable resources in the API (<code>{apiURI}/{pathToResource}</code>), where <code>{pathToResource}</code> is <code>/collections/{collectionId}/items</code>;</p>
</li>
<li>
<p>The media type of the response when accessing these resources (<code>{responseMediaType}</code>)</p>
</li>
<li>
<p>The list of acceptable status codes for a successful filter execution (default: "200");</p>
</li>
<li>
<p>The list of acceptable status codes for an unsuccessful filter execution (default: "400");</p>
</li>
<li>
<p>A valid value for each queryable <code>{queryable}</code>;</p>
</li>
<li>
<p>An invalid valid value for each queryable <code>{queryable}</code>;</p>
</li>
<li>
<p>The information stored during the execution of conformance tests of conformance class "Queryables".</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_conformance_test_4"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_4"></a>A.2.1. Conformance Test 4</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/queryables-query-parameters/get-conformance</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the API declares support for the conformance class</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>n/a</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Conformance Declaration is executed</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/conformance</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that <code>$.conformsTo</code> is a string array that includes the value "http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/queryables-query-parameters".</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_5"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_5"></a>A.2.2. Conformance Test 5</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/queryables-query-parameters/query-param</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_queryables-query-parameters_parameters">/req/queryables-query-parameters/parameters</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that query parameters for queryables are supported</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of collections</p>
</li>
<li>
<p>the sample queryable of every collection</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for every filterable resource that supports filtering is executed and every queryable (<code>queryable</code>) with a valid value for the queryable (<code>{valid-value}</code>)</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/collections/{collectionId}/items</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>{queryable}={valid-value}</code></p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>);</p>
</li>
<li>
<p>assert that each returned resource matches the filter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for every filterable resource that supports filtering is executed and every queryable (<code>queryable</code>) with an invalid value for the queryable (<code>{invalid-value}</code>)</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/collections/{collectionId}/items</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>{queryable}={invalid-value}</code></p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert unsuccessful execution (the status code is in the list of acceptable status codes for an unsuccessful execution).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_class_filter"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_filter"></a>A.3. Conformance Class "Filter"</h3>
<table id="conf_filter" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/filter" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/filter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Web API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_filter">Requirements Class "Filter"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_queryables">Conformance Class "Queryables"</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table lists input given to all tests in this conformance class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The landing page URI of the OGC Web API (<code>{apiURI}</code>);</p>
</li>
<li>
<p>Authentication credentials (optional);</p>
</li>
<li>
<p>The list of filterable resources in the API (<code>{apiURI}/{pathToResource}</code>);</p>
</li>
<li>
<p>The media type of the response when accessing these resources (<code>{responseMediaType}</code>)</p>
</li>
<li>
<p>The list of acceptable status codes for a successful filter execution (default: "200", "204");</p>
</li>
<li>
<p>The list of acceptable status codes for an unsuccessful filter execution (default: "400");</p>
</li>
<li>
<p>The name of the filter language to test  (<code>{filter-lang}</code>; default: "cql2-text");</p>
</li>
<li>
<p>A flag that indicates whether the filter language is the default filter language;</p>
</li>
<li>
<p>A valid filter expression in the filter language for a queryable <code>{queryable}</code> (<code>{filter-valid}</code>; default: <code>{queryable} IS NULL</code>);</p>
</li>
<li>
<p>An invalid filter expression in the filter language (<code>{filter-invalid}</code>; default: <code>THIS IS NOT A FILTER</code>);</p>
</li>
<li>
<p>A valid bbox filter expression in the filter language for a spatial queryable <code>{spatialQueryable}</code> and two longitude/latitude positions in WGS 84 <code>{x1}</code>/<code>{y1}</code> and <code>{x2}</code>/<code>{y2}</code> (<code>{bbox-filter}</code>; default: <code>S_INTERSECTS({spatialQueryable},BBOX({x1},{y1},{x2},{y2})</code>);</p>
</li>
<li>
<p>A flag that indicates whether the API supports custom functions in filter expressions;</p>
</li>
<li>
<p>The information stored during the execution of conformance tests of conformance class "Queryables".</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_conformance_test_6"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_6"></a>A.3.1. Conformance Test 6</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/get-conformance</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the API declares support for the conformance class</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>n/a</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Conformance Declaration is executed</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/conformance</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that <code>$.conformsTo</code> is a string array that includes the value "http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/filter".</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_7"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_7"></a>A.3.2. Conformance Test 7</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/filter-param</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_filter-param">/req/filter/filter-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_filter-lang-param">/req/filter/filter-lang-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_response">/req/filter/response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the query parameter <code>filter</code> is supported</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of filterable resources</p>
</li>
<li>
<p>the sample queryable of every filterable resource</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each resource that supports filtering is executed without a filter parameter</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>);</p>
</li>
<li>
<p>store the result as the unfiltered result of the resource.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each resource that supports filtering is executed with a valid filter expression</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={filter-valid}</code> where <code>{queryable}</code> in <code>{filter-valid}</code> is replaced by the sample queryable of the filterable resource</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>);</p>
</li>
<li>
<p>assert that each returned resource matches the filter expression.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each resource that supports filtering is executed with an invalid filter expression</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={filter-invalid}</code> where <code>{queryable}</code> in <code>{filter-invalid}</code> is replaced by the sample queryable of the filterable resource</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert unsuccessful execution (the status code is in the list of acceptable status codes for an unsuccessful execution).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_8"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_8"></a>A.3.3. Conformance Test 8</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/filter-lang-default</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_filter-param">/req/filter/filter-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_filter-lang-param">/req/filter/filter-lang-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_response">/req/filter/response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the query parameter <code>filter-lang</code> default value is supported</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of filterable resources</p>
</li>
<li>
<p>the queryables of every filterable resource</p>
</li>
<li>
<p>the filter language <code>{filter-lang}</code> is the default filter language</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each resource that supports filtering is executed with a valid filter expression</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter={filter-valid}</code> where <code>{queryable}</code> in <code>{filter-valid}</code> is replaced by the sample queryable of the collection</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>);</p>
</li>
<li>
<p>assert that each returned resource matches the filter expression.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each resource that supports filtering is executed with an invalid filter expression</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter={filter-invalid}</code> where <code>{queryable}</code> in <code>{filter-invalid}</code> is replaced by the sample queryable of the collection</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert unsuccessful execution (the status code is in the list of acceptable status codes for an unsuccessful execution).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_9"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_9"></a>A.3.4. Conformance Test 9</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/expression-construction</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_queryables_get-queryables-response">/req/queryables/get-queryables-response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that unknown queryables are rejected, if this is declared in the Queryables resource</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of filterable resources, reduced to those where <code>additionalProperties</code> is <code>false`</code></p>
</li>
<li>
<p>the sample queryable of every filterable resource in the list</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each resource is executed with a filter expression with an unsupported queryable</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={filter-valid}</code> where <code>{queryable}</code> in <code>{filter-valid}</code> is replaced by "this_is_not_a_queryable"</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert unsuccessful execution (the status code is in the list of acceptable status codes for an unsuccessful execution).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_10"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_10"></a>A.3.5. Conformance Test 10</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/filter-crs-wgs84</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_filter-crs-wgs84">/req/filter/filter-crs-wgs84</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_response">/req/filter/response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that spatial predicates assume WGS84 by default</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of filterable resources with a spatial queryable</p>
</li>
<li>
<p>the spatial queryable of each filterable resource</p>
</li>
<li>
<p>the WGS84 bbox of the resources in each filterable resource</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each filterable resource is executed with a filter expression with a spatial predicate</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={bbox-filter}</code> where <code>{spatialQueryable}</code> in <code>{bbox-filter}</code> is replaced by the spatial queryable, <code>{x1}</code> is replaced by the west-bound longitude of the WGS84 bbox of the resource, <code>{y1}</code> by the south-bound latitude, <code>{x2}</code> by the east-bound longitude, and <code>{y2}</code> by the north-bound latitude</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>).</p>
</li>
<li>
<p>assert that result contains the same features as the unfiltered result of the filterable resource.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each filterable resource with a filter expression with a spatial predicate</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={bbox-filter}</code> where <code>{spatialQueryable}</code> in <code>{bbox-filter}</code> is replaced by the spatial queryable, <code>{x1}</code> is replaced by "1000000", <code>{y1}</code> by "1000000", <code>{x2}</code> by "2000000", and <code>{y2}</code>  by "2000000"</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert unsuccessful execution (the status code is in the list of acceptable status codes for an unsuccessful execution).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_11"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_11"></a>A.3.6. Conformance Test 11</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/filter-crs-param</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_filter-crs-param">/req/filter/filter-crs-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_response">/req/filter/response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that spatial predicates assume WGS84 by default</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of filterable resources, that have a non-empty list of supported CRSs</p>
</li>
<li>
<p>the spatial queryable of every collection</p>
</li>
<li>
<p>the WGS84 bbox of every collection</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each filterable resource and every CRS for that resource with a filter expression with a spatial predicate</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter-crs={crsId}&amp;filter={bbox-filter}</code> where <code>{spatialQueryable}</code> in <code>{bbox-filter}</code> is replaced by the spatial queryable, <code>{crsId}</code> by the URI of the CRS, <code>{x1}</code> and <code>{y1}</code> by the coordinates of the west-bound longitude and south-bound latitude of the WGS84 bbox of the collection transformed to the CRS, and <code>{x2}</code> and <code>{y2}</code> by the coordinates of the east-bound longitude and north-bound latitude of the WGS84 bbox of the collection transformed to the CRS</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>);</p>
</li>
<li>
<p>assert that result contains the same features as the unfiltered result of the collection.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for each filterable resource with a filter expression with a spatial predicate</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter-crs={crsId}&amp;filter={bbox-filter}</code> where <code>{spatialQueryable}</code> in <code>{bbox-filter}</code> is replaced by the spatial queryable, <code>{crsId}</code> by "http://www.opengis.net/def/crs/OGC/0/does_not_exist", <code>{x1}</code> is replaced by the west-bound longitude of the WGS84 bbox of the collection, <code>{y1}</code> by the south-bound latitude, <code>{x2}</code> by the east-bound longitude, and <code>{y2}</code> by the north-bound latitude</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert unsuccessful execution (the status code is in the list of acceptable status codes for an unsuccessful execution).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_12"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_12"></a>A.3.7. Conformance Test 12</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/filter/get-functions</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_get-functions-operation">/req/filter/get-functions-operation</a>; <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_get-functions-response-json">/req/filter/get-functions-response-json</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the Functions resource exists and is schema valid</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-conformance" was successful</p>
</li>
<li>
<p>the API supports custom functions in filter expressions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Functions page is executed</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/functions</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that the response is valid against the OpenAPI 3.0 schema identified in the requirement.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Requirement <code>/req/filter/mixing-expression</code> can only be checked in dependent conformance classes, when additional filtering parameters are known.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_class_features_filter"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_class_features_filter"></a>A.4. Conformance Class "Features Filter"</h3>
<table id="conf_features-filter" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/features-filter" class="bare">http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/features-filter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Web API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#rc_features-filter">Requirements Class "Features Filter"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#conf_filter">Conformance Class "Filter"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>OGC API - Features - Part 1: Core, Conformance Class "GeoJSON"</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Conformance Class "GeoJSON" has a dependency to the Conformance Class "Core"; that is, testing against "GeoJSON" will automatically test against the dependencies.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following table lists input given to all tests in this conformance class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The landing page URI of the OGC Web API (<code>{apiURI}</code>);</p>
</li>
<li>
<p>Authentication credentials (optional);</p>
</li>
<li>
<p>The name of the filter language to test  (<code>{filter-lang}</code>; default: "cql2-text");</p>
</li>
<li>
<p>A flag that indicates whether the filter language is the default filter language;</p>
</li>
<li>
<p>A valid filter expression in the filter language for a queryable <code>{queryable}</code> (<code>{filter-valid}</code>; default: <code>{queryable} IS NULL</code>);</p>
</li>
<li>
<p>An invalid filter expression in the filter language (<code>{filter-invalid}</code>; default: <code>THIS IS NOT A FILTER</code>);</p>
</li>
<li>
<p>A valid bbox filter expression in the filter language for a spatial queryable <code>{spatialQueryable}</code> and two longitude/latitude positions in WGS 84 <code>{x1}</code>/<code>{y1}</code> and <code>{x2}</code>/<code>{y2}</code> (<code>{bbox-filter}</code>; default: <code>S_INTERSECTS({spatialQueryable},ENVELOPE({x1},{y1},{x2},{y2})</code>);</p>
</li>
<li>
<p>A flag that indicates whether the API supports custom functions in filter expressions.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_conformance_test_13"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_13"></a>A.4.1. Conformance Test 13</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/features-filter/get-conformance</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the API declares support for the conformance class</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>n/a</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Conformance Declaration is executed</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/conformance</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that <code>$.conformsTo</code> is a string array that includes the value "http://www.opengis.net/spec/ogcapi-features-3/1.0/conf/features-filter".</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_14"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_14"></a>A.4.2. Conformance Test 14</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/features-filter/get-collections</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Retrieve the list of collections provided by the API</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-conformance" was successful</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Collections page is executed</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/collections</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that <code>$.collections</code> is an array;</p>
</li>
<li>
<p>store the array as the list of collections.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_15"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_15"></a>A.4.3. Conformance Test 15</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/features-filter/get-collection</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_features-filter_queryables-link">/req/features-filter/queryables-link</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that a link to the Queryables resource exists for every collection</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-collections" was successful</p>
</li>
<li>
<p>the list of collections</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the request for the Collection page is executed for every collection in the list (<code>collectionId</code>: JSONPath <code>$.collections[*].id</code>)</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{apiURI}/collections/{collectionId}</code></p>
</li>
<li>
<p>header: <code>Accept: application/json</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (status code is "200", <code>Content-Type</code> header is "application/json");</p>
</li>
<li>
<p>assert that a non-negative integer <code>n</code> exists where <code>$.links[{n}].rel</code> is "http://www.opengis.net/def/rel/ogc/1.0/queryables" and where <code>$.links[{n}].href</code> is (after normalization) the URI <code>{apiURI}/collections/{collectionId}/queryables</code>;</p>
</li>
<li>
<p>store <code>$.extent.spatial.bbox[0]</code> as the WGS84 bbox of the collection</p>
</li>
<li>
<p>store <code>$.crs[*]</code> as the list of CRS supported for the collection</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_16"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_16"></a>A.4.4. Conformance Test 16</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/features-filter/filter-on-items</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_features-filter_filter-param">/req/features-filter/filter-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_features-filter_filter-lang-param">/req/features-filter/filter-lang-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_features-filter_filter-crs-param">/req/features-filter/filter-crs-param</a>, <a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_features-filter_response">/req/features-filter/response</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that the API supports filters on the Features resource.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-conformance" was successful</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the tests for the "Filter" conformance class are executed with the following input parameters:</p>
<div class="ulist">
<ul>
<li>
<p>All input parameters given to this conformance class (see above);</p>
</li>
<li>
<p>The path template to the resource that supports filtering is <code>{apiURI}/collections/{collectionId}/items</code> with a response media type <code>application/geo+json</code> (GeoJSON);</p>
</li>
<li>
<p>The acceptable status codes for a successful filter execution are: "200";</p>
</li>
<li>
<p>The list of acceptable status codes for an unsuccessful filter execution are: "400".</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the Web API under test passes the tests.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_conformance_test_17"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_conformance_test_17"></a>A.4.5. Conformance Test 17</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>/conf/features-filter/mixing-expression</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="https://docs.ogc.org/is/19-079r2/19-079r2.html#req_filter_mixing-expressions">/req/filter/mixing-expressions</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Check that a filter and a bbox parameter are evaluated with an AND</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Given:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>test "get-queryables" was successful</p>
</li>
<li>
<p>the list of collections</p>
</li>
<li>
<p>the spatial queryable of every collection</p>
</li>
<li>
<p>the WGS84 bbox of every collection</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for the resource that supports filtering is executed for every collection in the list (<code>collectionId</code>: JSONPath <code>$.collections[*].id</code>) with a filter expression with a spatial predicate, where the collection has a WGS84 bbox and a spatial queryable</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={bbox-filter}&amp;bbox={x1},{y1},{x2},{y2}</code> where <code>{spatialQueryable}</code> in <code>{bbox-filter}</code> is replaced by the spatial queryable, <code>{x1}</code> is replaced by the west-bound longitude of the WGS84 bbox of the collection, <code>{y1}</code> by the south-bound latitude, <code>{x2}</code> by the east-bound longitude, and <code>{y2}</code> by the north-bound latitude</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>).</p>
</li>
<li>
<p>assert that result contains the same features as the unfiltered result of the collection.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a request for the resource that supports filtering is executed for every collection in the list (<code>collectionId</code>: JSONPath <code>$.collections[*].id</code>) with a filter expression with a spatial predicate, where the collection has a WGS84 bbox and a spatial queryable</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>GET</code></p>
</li>
<li>
<p>path: <code>{pathToResource}</code></p>
</li>
<li>
<p>query parameters (before percent encoding): <code>filter-lang={filter-lang}&amp;filter={bbox-filter}&amp;bbox={x3},{y3},{x4},{y4}</code> where <code>{spatialQueryable}</code> in <code>{bbox-filter}</code> is replaced by the spatial queryable, <code>{x1}</code> is replaced by the west-bound longitude of the WGS84 bbox of the collection, <code>{y1}</code> by the south-bound latitude, <code>{x2}</code> by the east-bound longitude, <code>{y2}</code> by the north-bound latitude, and where the bbox <code>{x3}</code>,<code>{y3}</code>,<code>{x4}</code>,<code>{y4}</code> does not intersect the WGS84 bbox of the collection</p>
</li>
<li>
<p>header: <code>Accept: {responseMediaType}</code></p>
</li>
<li>
<p>authentication, if authentication credentials are provided</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assert successful execution (the status code is in the list of acceptable status codes for a successful execution, <code>Content-Type</code> header is <code>{responseMediaType}</code>).</p>
</li>
<li>
<p>assert that result contains no features.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#_revision_history"></a>Annex B: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12%;">
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 46%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-04-06</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>initial version</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-12-22</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-draft.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos, C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>version for OAB review</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2021-01-18</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos, C. Portele, C. Reed</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>include changes from OAB review</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2021-01-27</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-draft.2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">5.2, 10.2, 10.3</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>include changes from OGC-NA review, version for public review</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2021-09-27</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>move CQL2 to its own standard</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2024-03-07</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-rc.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele, P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>release candidate, submission for the OGC approval process</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2024-03-26</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-rc.2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele, P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>release candidate</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/opengeospatial/ogcapi-features/pull/912">#912</a> Changed requirement for a Link HTTP header to a recommendation.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="https://docs.ogc.org/is/19-079r2/19-079r2.html#Bibliography"></a>Annex C: Bibliography</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="BNF"></a> Internet Engineering Task Force (IETF). RFC 5234: <strong>Augmented BNF for Syntax Specifications: ABNF</strong> [online]. Edited by D. Crocker, P. Overell. 2008 [viewed 2020-11-22]. Available at <a href="https://www.rfc-editor.org/rfc/rfc5234.html" class="bare">https://www.rfc-editor.org/rfc/rfc5234.html</a></p>
</li>
<li>
<p><a id="json-schema-validation"></a> Internet Engineering Task Force (IETF). draft-handrews-json-schema-validation-02: <strong>JSON Schema Validation: A Vocabulary for Structural Validation of JSON</strong> [online]. Edited by A. Wright, H. Andrews, B. Hutton. 2019 [viewed 2020-11-22]. Available at <a href="https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-02" class="bare">https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-02</a></p>
</li>
<li>
<p><a id="link-relations"></a> Internet Assigned Numbers Authority (IANA). <strong>Link Relation Types</strong> [online, viewed 2020-03-16], Available at <a href="https://www.iana.org/assignments/link-relations/link-relations.xml" class="bare">https://www.iana.org/assignments/link-relations/link-relations.xml</a></p>
</li>
<li>
<p><a id="ogc-link-relations"></a> Open Geospatial Consortium (OGC). <strong>OGC Link Relation Type Register</strong> [online, viewed 2021-06-10], Available at <a href="http://www.opengis.net/def/rel" class="bare">http://www.opengis.net/def/rel</a></p>
</li>
<li>
<p><a id="ogc-curies"></a> Open Geospatial Consortium (OGC). <strong>OGC CURIE Register</strong> [online, viewed 2023-04-24], Available at <a href="http://www.opengis.net/def/curie" class="bare">http://www.opengis.net/def/curie</a></p>
</li>
<li>
<p><a id="OpenAPI"></a> OpenAPI Initiative (OAI). <strong>OpenAPI Specification 3.0</strong> [online]. 2020 [viewed 2020-03-16]. The latest patch version at the time of publication of this standard was 3.0.3, available at <a href="http://spec.openapis.org/oas/v3.0.3" class="bare">http://spec.openapis.org/oas/v3.0.3</a></p>
</li>
<li>
<p><a id="rfc3986"></a> Internet Engineering Task Force (IETF). RFC 3986: <strong>Uniform Resource Identifier (URI): Generic Syntax</strong> [online]. Edited by T. Berners-Lee, R. Fielding, L. Masinter. [viewed 2020-03-16]. Available at <a href="https://www.rfc-editor.org/rfc/rfc3986.html" class="bare">https://www.rfc-editor.org/rfc/rfc3986.html</a></p>
</li>
<li>
<p><a id="iso8601-1"></a> ISO 8601-1:2019, <strong>Date and time — Representations for information interchange — Part 1: Basic rules</strong></p>
</li>
<li>
<p><a id="iso8601-2"></a> ISO 8601-2:2019, <strong>Date and time — Representations for information interchange — Part 2: Extensions</strong></p>
</li>
<li>
<p><a id="iso15836-2"></a> ISO 15836-2:2019, <strong>Information and documentation — The Dublin Core metadata element set — Part 2: DCMI Properties and classes</strong></p>
</li>
<li>
<p><a id="SDWBP"></a> Open Geospatial Consortium (OGC) / World Wide Web Consortium (W3C): <strong>Spatial Data on the Web Best Practices</strong> [online]. Edited by J. Tandy, L. van den Brink, P. Barnaghi. 2017 [viewed 2020-03-16]. Available at <a href="https://www.w3.org/TR/sdw-bp/" class="bare">https://www.w3.org/TR/sdw-bp/</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-07-31 09:17:15 -0400
</div>
</div>
<script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="./19-079r2_files/MathJax.js"></script>

</body></html>